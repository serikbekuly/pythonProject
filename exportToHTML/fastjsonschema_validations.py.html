<html>
<head>
<title>fastjsonschema_validations.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #cc7832;}
.s4 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
fastjsonschema_validations.py</font>
</center></td></tr></table>
<pre><span class="s0"># noqa</span>
<span class="s0"># type: ignore</span>
<span class="s0"># flake8: noqa</span>
<span class="s0"># pylint: skip-file</span>
<span class="s0"># mypy: ignore-errors</span>
<span class="s0"># yapf: disable</span>
<span class="s0"># pylama:skip=1</span>


<span class="s0"># *** PLEASE DO NOT MODIFY DIRECTLY: Automatically generated code *** </span>


<span class="s1">VERSION = </span><span class="s2">&quot;2.15.3&quot;</span>
<span class="s3">import </span><span class="s1">re</span>
<span class="s3">from </span><span class="s1">.fastjsonschema_exceptions </span><span class="s3">import </span><span class="s1">JsonSchemaValueException</span>


<span class="s1">REGEX_PATTERNS = {</span>
    <span class="s2">'^.*$'</span><span class="s1">: re.compile(</span><span class="s2">'^.*$'</span><span class="s1">)</span><span class="s3">,</span>
    <span class="s2">'.+'</span><span class="s1">: re.compile(</span><span class="s2">'.+'</span><span class="s1">)</span><span class="s3">,</span>
    <span class="s2">'^.+$'</span><span class="s1">: re.compile(</span><span class="s2">'^.+$'</span><span class="s1">)</span><span class="s3">,</span>
    <span class="s2">'idn-email_re_pattern'</span><span class="s1">: re.compile(</span><span class="s2">'^[^@]+@[^@]+</span><span class="s3">\\</span><span class="s2">.[^@]+</span><span class="s3">\\</span><span class="s2">Z'</span><span class="s1">)</span>
<span class="s1">}</span>

<span class="s1">NoneType = type(</span><span class="s3">None</span><span class="s1">)</span>

<span class="s3">def </span><span class="s1">validate(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_build_dependencies(data</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_build_dependencies(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-build-dependencies/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Data structure for ``pyproject.toml`` files'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'File format containing build-time configurations for the Python ecosystem. '</span><span class="s3">, </span><span class="s2">':pep:`517` initially defined a build-system independent format for source trees'</span><span class="s3">, </span><span class="s2">'which was complemented by :pep:`518` to provide a way of specifying dependencies '</span><span class="s3">, </span><span class="s2">'for building Python projects.'</span><span class="s3">, </span><span class="s2">'Please notice the ``project`` table (as initially defined in  :pep:`621`) is not included'</span><span class="s3">, </span><span class="s2">'in this schema and should be considered separately.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'build-system'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Table used to store build-related data'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'requires'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'build-backend'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'backend-path'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'requires'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'project'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create command-line wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create GUI wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s3">, </span><span class="s2">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s3">, </span><span class="s2">'Windows.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'tool'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'distutils'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://docs.python.org/3/install/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.distutils`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s3">, </span><span class="s2">'``setup.py`` scripts via `distutils configuration files'</span><span class="s3">, </span><span class="s2">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s3">, </span><span class="s2">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s3">, </span><span class="s2">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'global'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Global options applied to all ``distutils`` commands'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'setuptools'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.setuptools`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s3">, </span><span class="s2">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s3">, </span><span class="s2">'this *might be done*, by following the principles established in'</span><span class="s3">, </span><span class="s2">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s3">, </span><span class="s2">'It considers only ``setuptools`` `parameters'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s3">, </span><span class="s2">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s3">, </span><span class="s2">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s3">, </span><span class="s2">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s3">, </span><span class="s2">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'platforms'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'provides'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'obsoletes'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'zip-safe'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'script-files'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'eager-resources'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'packages'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'package-dir'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'include-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'exclude-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'namespace-packages'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'py-modules'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'data-files'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'cmdclass'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'license-files'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'file-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'attr-directive'</span><span class="s1">: {</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'find-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}}}}}}</span><span class="s3">, </span><span class="s2">'project'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create command-line wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create GUI wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s3">, </span><span class="s2">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s3">, </span><span class="s2">'Windows.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;build-system&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;build-system&quot;</span><span class="s1">)</span>
            <span class="s1">data__buildsystem = data[</span><span class="s2">&quot;build-system&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Table used to store build-related data'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'requires'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'build-backend'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'backend-path'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'requires'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__buildsystem_is_dict = isinstance(data__buildsystem</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__buildsystem_is_dict:</span>
                <span class="s1">data__buildsystem_len = len(data__buildsystem)</span>
                <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__buildsystem </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'requires'</span><span class="s1">]):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system must contain ['requires'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Table used to store build-related data'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'requires'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'build-backend'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'backend-path'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'requires'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                <span class="s1">data__buildsystem_keys = set(data__buildsystem.keys())</span>
                <span class="s3">if </span><span class="s2">&quot;requires&quot; </span><span class="s3">in </span><span class="s1">data__buildsystem_keys:</span>
                    <span class="s1">data__buildsystem_keys.remove(</span><span class="s2">&quot;requires&quot;</span><span class="s1">)</span>
                    <span class="s1">data__buildsystem__requires = data__buildsystem[</span><span class="s2">&quot;requires&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem__requires</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.requires must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__requires</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.requires&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__buildsystem__requires_is_list = isinstance(data__buildsystem__requires</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__buildsystem__requires_is_list:</span>
                        <span class="s1">data__buildsystem__requires_len = len(data__buildsystem__requires)</span>
                        <span class="s3">for </span><span class="s1">data__buildsystem__requires_x</span><span class="s3">, </span><span class="s1">data__buildsystem__requires_item </span><span class="s3">in </span><span class="s1">enumerate(data__buildsystem__requires):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem__requires_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.requires[{data__buildsystem__requires_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__requires_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.requires[{data__buildsystem__requires_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;build-backend&quot; </span><span class="s3">in </span><span class="s1">data__buildsystem_keys:</span>
                    <span class="s1">data__buildsystem_keys.remove(</span><span class="s2">&quot;build-backend&quot;</span><span class="s1">)</span>
                    <span class="s1">data__buildsystem__buildbackend = data__buildsystem[</span><span class="s2">&quot;build-backend&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem__buildbackend</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.build-backend must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__buildbackend</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.build-backend&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__buildsystem__buildbackend</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep517-backend-reference&quot;</span><span class="s1">](data__buildsystem__buildbackend):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.build-backend must be pep517-backend-reference&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__buildbackend</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.build-backend&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;backend-path&quot; </span><span class="s3">in </span><span class="s1">data__buildsystem_keys:</span>
                    <span class="s1">data__buildsystem_keys.remove(</span><span class="s2">&quot;backend-path&quot;</span><span class="s1">)</span>
                    <span class="s1">data__buildsystem__backendpath = data__buildsystem[</span><span class="s2">&quot;backend-path&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem__backendpath</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.backend-path must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__backendpath</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.backend-path&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__buildsystem__backendpath_is_list = isinstance(data__buildsystem__backendpath</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__buildsystem__backendpath_is_list:</span>
                        <span class="s1">data__buildsystem__backendpath_len = len(data__buildsystem__backendpath)</span>
                        <span class="s3">for </span><span class="s1">data__buildsystem__backendpath_x</span><span class="s3">, </span><span class="s1">data__buildsystem__backendpath_item </span><span class="s3">in </span><span class="s1">enumerate(data__buildsystem__backendpath):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__buildsystem__backendpath_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.backend-path[{data__buildsystem__backendpath_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem__backendpath_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system.backend-path[{data__buildsystem__backendpath_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__buildsystem_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system must not contain &quot;</span><span class="s1">+str(data__buildsystem_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__buildsystem</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.build-system&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Table used to store build-related data'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'requires'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'build-backend'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'backend-path'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'requires'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;project&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;project&quot;</span><span class="s1">)</span>
            <span class="s1">data__project = data[</span><span class="s2">&quot;project&quot;</span><span class="s1">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata(data__project</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.project&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;tool&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;tool&quot;</span><span class="s1">)</span>
            <span class="s1">data__tool = data[</span><span class="s2">&quot;tool&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__tool</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.tool must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__tool</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.tool&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'distutils'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://docs.python.org/3/install/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.distutils`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s3">, </span><span class="s2">'``setup.py`` scripts via `distutils configuration files'</span><span class="s3">, </span><span class="s2">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s3">, </span><span class="s2">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s3">, </span><span class="s2">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'global'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Global options applied to all ``distutils`` commands'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'setuptools'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.setuptools`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s3">, </span><span class="s2">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s3">, </span><span class="s2">'this *might be done*, by following the principles established in'</span><span class="s3">, </span><span class="s2">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s3">, </span><span class="s2">'It considers only ``setuptools`` `parameters'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s3">, </span><span class="s2">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s3">, </span><span class="s2">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s3">, </span><span class="s2">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s3">, </span><span class="s2">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'platforms'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'provides'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'obsoletes'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'zip-safe'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'script-files'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'eager-resources'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'packages'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'package-dir'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'include-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'exclude-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'namespace-packages'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'py-modules'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'data-files'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'cmdclass'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'license-files'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'file-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'attr-directive'</span><span class="s1">: {</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'find-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__tool_is_dict = isinstance(data__tool</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__tool_is_dict:</span>
                <span class="s1">data__tool_keys = set(data__tool.keys())</span>
                <span class="s3">if </span><span class="s2">&quot;distutils&quot; </span><span class="s3">in </span><span class="s1">data__tool_keys:</span>
                    <span class="s1">data__tool_keys.remove(</span><span class="s2">&quot;distutils&quot;</span><span class="s1">)</span>
                    <span class="s1">data__tool__distutils = data__tool[</span><span class="s2">&quot;distutils&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___docs_python_org_3_install(data__tool__distutils</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.tool.distutils&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;setuptools&quot; </span><span class="s3">in </span><span class="s1">data__tool_keys:</span>
                    <span class="s1">data__tool_keys.remove(</span><span class="s2">&quot;setuptools&quot;</span><span class="s1">)</span>
                    <span class="s1">data__tool__setuptools = data__tool[</span><span class="s2">&quot;setuptools&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html(data__tool__setuptools</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.tool.setuptools&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-build-dependencies/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Data structure for ``pyproject.toml`` files'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'File format containing build-time configurations for the Python ecosystem. '</span><span class="s3">, </span><span class="s2">':pep:`517` initially defined a build-system independent format for source trees'</span><span class="s3">, </span><span class="s2">'which was complemented by :pep:`518` to provide a way of specifying dependencies '</span><span class="s3">, </span><span class="s2">'for building Python projects.'</span><span class="s3">, </span><span class="s2">'Please notice the ``project`` table (as initially defined in  :pep:`621`) is not included'</span><span class="s3">, </span><span class="s2">'in this schema and should be considered separately.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'build-system'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Table used to store build-related data'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'requires'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of dependencies in the :pep:`508` format required to execute the build'</span><span class="s3">, </span><span class="s2">'system. Please notice that the resulting dependency graph'</span><span class="s3">, </span><span class="s2">'**MUST NOT contain cycles**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'build-backend'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Python object that will be used to perform the build according to :pep:`517`'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep517-backend-reference'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'backend-path'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'List of directories to be prepended to ``sys.path`` when loading the'</span><span class="s3">, </span><span class="s2">'back-end, and running its hooks'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'Should be a path (TODO: enforce it with format?)'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'requires'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'project'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create command-line wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create GUI wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s3">, </span><span class="s2">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s3">, </span><span class="s2">'Windows.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'tool'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'distutils'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://docs.python.org/3/install/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.distutils`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s3">, </span><span class="s2">'``setup.py`` scripts via `distutils configuration files'</span><span class="s3">, </span><span class="s2">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s3">, </span><span class="s2">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s3">, </span><span class="s2">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'global'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Global options applied to all ``distutils`` commands'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'setuptools'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.setuptools`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s3">, </span><span class="s2">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s3">, </span><span class="s2">'this *might be done*, by following the principles established in'</span><span class="s3">, </span><span class="s2">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s3">, </span><span class="s2">'It considers only ``setuptools`` `parameters'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s3">, </span><span class="s2">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s3">, </span><span class="s2">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s3">, </span><span class="s2">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s3">, </span><span class="s2">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'platforms'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'provides'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'obsoletes'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'zip-safe'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'script-files'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'eager-resources'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'packages'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'package-dir'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'include-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'exclude-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'namespace-packages'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'py-modules'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'data-files'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'cmdclass'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'license-files'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'file-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'attr-directive'</span><span class="s1">: {</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'find-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}}}}}}</span><span class="s3">, </span><span class="s2">'project'</span><span class="s1">: {</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create command-line wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to create GUI wrappers for the given'</span><span class="s3">, </span><span class="s2">'`entry points &lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s3">, </span><span class="s2">'The difference between ``scripts`` and ``gui-scripts`` is only relevant in'</span><span class="s3">, </span><span class="s2">'Windows.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$ref'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.setuptools`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s3">, </span><span class="s2">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s3">, </span><span class="s2">'this *might be done*, by following the principles established in'</span><span class="s3">, </span><span class="s2">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s3">, </span><span class="s2">'It considers only ``setuptools`` `parameters'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s3">, </span><span class="s2">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s3">, </span><span class="s2">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s3">, </span><span class="s2">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s3">, </span><span class="s2">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'platforms'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'provides'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'obsoletes'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'zip-safe'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'script-files'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'eager-resources'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'packages'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}]}</span><span class="s3">, </span><span class="s2">'package-dir'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'include-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'exclude-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'namespace-packages'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'py-modules'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'data-files'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'cmdclass'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'license-files'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'file-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'attr-directive'</span><span class="s1">: {</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'find-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;platforms&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;platforms&quot;</span><span class="s1">)</span>
            <span class="s1">data__platforms = data[</span><span class="s2">&quot;platforms&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__platforms</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.platforms must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__platforms</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.platforms&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__platforms_is_list = isinstance(data__platforms</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__platforms_is_list:</span>
                <span class="s1">data__platforms_len = len(data__platforms)</span>
                <span class="s3">for </span><span class="s1">data__platforms_x</span><span class="s3">, </span><span class="s1">data__platforms_item </span><span class="s3">in </span><span class="s1">enumerate(data__platforms):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__platforms_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.platforms[{data__platforms_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__platforms_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.platforms[{data__platforms_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;provides&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;provides&quot;</span><span class="s1">)</span>
            <span class="s1">data__provides = data[</span><span class="s2">&quot;provides&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__provides</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__provides</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__provides_is_list = isinstance(data__provides</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__provides_is_list:</span>
                <span class="s1">data__provides_len = len(data__provides)</span>
                <span class="s3">for </span><span class="s1">data__provides_x</span><span class="s3">, </span><span class="s1">data__provides_item </span><span class="s3">in </span><span class="s1">enumerate(data__provides):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__provides_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides[{data__provides_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__provides_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides[{data__provides_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__provides_item</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508-identifier&quot;</span><span class="s1">](data__provides_item):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides[{data__provides_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be pep508-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__provides_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.provides[{data__provides_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;obsoletes&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;obsoletes&quot;</span><span class="s1">)</span>
            <span class="s1">data__obsoletes = data[</span><span class="s2">&quot;obsoletes&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__obsoletes</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__obsoletes</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__obsoletes_is_list = isinstance(data__obsoletes</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__obsoletes_is_list:</span>
                <span class="s1">data__obsoletes_len = len(data__obsoletes)</span>
                <span class="s3">for </span><span class="s1">data__obsoletes_x</span><span class="s3">, </span><span class="s1">data__obsoletes_item </span><span class="s3">in </span><span class="s1">enumerate(data__obsoletes):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__obsoletes_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__obsoletes_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__obsoletes_item</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508-identifier&quot;</span><span class="s1">](data__obsoletes_item):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be pep508-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__obsoletes_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.obsoletes[{data__obsoletes_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;zip-safe&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;zip-safe&quot;</span><span class="s1">)</span>
            <span class="s1">data__zipsafe = data[</span><span class="s2">&quot;zip-safe&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__zipsafe</span><span class="s3">, </span><span class="s1">(bool)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.zip-safe must be boolean&quot;</span><span class="s3">, </span><span class="s1">value=data__zipsafe</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.zip-safe&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;script-files&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;script-files&quot;</span><span class="s1">)</span>
            <span class="s1">data__scriptfiles = data[</span><span class="s2">&quot;script-files&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__scriptfiles</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.script-files must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__scriptfiles</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.script-files&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__scriptfiles_is_list = isinstance(data__scriptfiles</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__scriptfiles_is_list:</span>
                <span class="s1">data__scriptfiles_len = len(data__scriptfiles)</span>
                <span class="s3">for </span><span class="s1">data__scriptfiles_x</span><span class="s3">, </span><span class="s1">data__scriptfiles_item </span><span class="s3">in </span><span class="s1">enumerate(data__scriptfiles):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__scriptfiles_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.script-files[{data__scriptfiles_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__scriptfiles_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.script-files[{data__scriptfiles_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;eager-resources&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;eager-resources&quot;</span><span class="s1">)</span>
            <span class="s1">data__eagerresources = data[</span><span class="s2">&quot;eager-resources&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__eagerresources</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.eager-resources must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__eagerresources</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.eager-resources&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__eagerresources_is_list = isinstance(data__eagerresources</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__eagerresources_is_list:</span>
                <span class="s1">data__eagerresources_len = len(data__eagerresources)</span>
                <span class="s3">for </span><span class="s1">data__eagerresources_x</span><span class="s3">, </span><span class="s1">data__eagerresources_item </span><span class="s3">in </span><span class="s1">enumerate(data__eagerresources):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__eagerresources_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.eager-resources[{data__eagerresources_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__eagerresources_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.eager-resources[{data__eagerresources_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;packages&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;packages&quot;</span><span class="s1">)</span>
            <span class="s1">data__packages = data[</span><span class="s2">&quot;packages&quot;</span><span class="s1">]</span>
            <span class="s1">data__packages_one_of_count1 = </span><span class="s4">0</span>
            <span class="s3">if </span><span class="s1">data__packages_one_of_count1 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__packages</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__packages</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__packages_is_list = isinstance(data__packages</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__packages_is_list:</span>
                        <span class="s1">data__packages_len = len(data__packages)</span>
                        <span class="s3">for </span><span class="s1">data__packages_x</span><span class="s3">, </span><span class="s1">data__packages_item </span><span class="s3">in </span><span class="s1">enumerate(data__packages):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__packages_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages[{data__packages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__packages_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages[{data__packages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                            <span class="s3">if </span><span class="s1">isinstance(data__packages_item</span><span class="s3">, </span><span class="s1">str):</span>
                                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__packages_item):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages[{data__packages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__packages_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages[{data__packages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                    <span class="s1">data__packages_one_of_count1 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__packages_one_of_count1 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_find_directive(data__packages</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages&quot;</span><span class="s1">)</span>
                    <span class="s1">data__packages_one_of_count1 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__packages_one_of_count1 != </span><span class="s4">1</span><span class="s1">:</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__packages_one_of_count1) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__packages</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.packages&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;package-dir&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;package-dir&quot;</span><span class="s1">)</span>
            <span class="s1">data__packagedir = data[</span><span class="s2">&quot;package-dir&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__packagedir</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__packagedir_is_dict = isinstance(data__packagedir</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__packagedir_is_dict:</span>
                <span class="s1">data__packagedir_keys = set(data__packagedir.keys())</span>
                <span class="s3">for </span><span class="s1">data__packagedir_key</span><span class="s3">, </span><span class="s1">data__packagedir_val </span><span class="s3">in </span><span class="s1">data__packagedir.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.*$'</span><span class="s1">].search(data__packagedir_key):</span>
                        <span class="s3">if </span><span class="s1">data__packagedir_key </span><span class="s3">in </span><span class="s1">data__packagedir_keys:</span>
                            <span class="s1">data__packagedir_keys.remove(data__packagedir_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__packagedir_val</span><span class="s3">, </span><span class="s1">(str)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir.{data__packagedir_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir.{data__packagedir_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__packagedir_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must not contain &quot;</span><span class="s1">+str(data__packagedir_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                <span class="s1">data__packagedir_len = len(data__packagedir)</span>
                <span class="s3">if </span><span class="s1">data__packagedir_len != </span><span class="s4">0</span><span class="s1">:</span>
                    <span class="s1">data__packagedir_property_names = </span><span class="s3">True</span>
                    <span class="s3">for </span><span class="s1">data__packagedir_key </span><span class="s3">in </span><span class="s1">data__packagedir:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__packagedir_key_one_of_count2 = </span><span class="s4">0</span>
                            <span class="s3">if </span><span class="s1">data__packagedir_key_one_of_count2 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">isinstance(data__packagedir_key</span><span class="s3">, </span><span class="s1">str):</span>
                                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__packagedir_key):</span>
                                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                                    <span class="s1">data__packagedir_key_one_of_count2 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__packagedir_key_one_of_count2 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">data__packagedir_key != </span><span class="s2">&quot;&quot;</span><span class="s1">:</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must be same as const definition: &quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'const'</span><span class="s1">)</span>
                                    <span class="s1">data__packagedir_key_one_of_count2 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__packagedir_key_one_of_count2 != </span><span class="s4">1</span><span class="s1">:</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__packagedir_key_one_of_count2) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__packagedir_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                            <span class="s1">data__packagedir_property_names = </span><span class="s3">False</span>
                    <span class="s3">if not </span><span class="s1">data__packagedir_property_names:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedir</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-dir&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;package-data&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;package-data&quot;</span><span class="s1">)</span>
            <span class="s1">data__packagedata = data[</span><span class="s2">&quot;package-data&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__packagedata</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__packagedata_is_dict = isinstance(data__packagedata</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__packagedata_is_dict:</span>
                <span class="s1">data__packagedata_keys = set(data__packagedata.keys())</span>
                <span class="s3">for </span><span class="s1">data__packagedata_key</span><span class="s3">, </span><span class="s1">data__packagedata_val </span><span class="s3">in </span><span class="s1">data__packagedata.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.*$'</span><span class="s1">].search(data__packagedata_key):</span>
                        <span class="s3">if </span><span class="s1">data__packagedata_key </span><span class="s3">in </span><span class="s1">data__packagedata_keys:</span>
                            <span class="s1">data__packagedata_keys.remove(data__packagedata_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__packagedata_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data.{data__packagedata_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data.{data__packagedata_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s1">data__packagedata_val_is_list = isinstance(data__packagedata_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                        <span class="s3">if </span><span class="s1">data__packagedata_val_is_list:</span>
                            <span class="s1">data__packagedata_val_len = len(data__packagedata_val)</span>
                            <span class="s3">for </span><span class="s1">data__packagedata_val_x</span><span class="s3">, </span><span class="s1">data__packagedata_val_item </span><span class="s3">in </span><span class="s1">enumerate(data__packagedata_val):</span>
                                <span class="s3">if not </span><span class="s1">isinstance(data__packagedata_val_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data.{data__packagedata_key}[{data__packagedata_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata_val_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data.{data__packagedata_key}[{data__packagedata_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__packagedata_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must not contain &quot;</span><span class="s1">+str(data__packagedata_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                <span class="s1">data__packagedata_len = len(data__packagedata)</span>
                <span class="s3">if </span><span class="s1">data__packagedata_len != </span><span class="s4">0</span><span class="s1">:</span>
                    <span class="s1">data__packagedata_property_names = </span><span class="s3">True</span>
                    <span class="s3">for </span><span class="s1">data__packagedata_key </span><span class="s3">in </span><span class="s1">data__packagedata:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__packagedata_key_one_of_count3 = </span><span class="s4">0</span>
                            <span class="s3">if </span><span class="s1">data__packagedata_key_one_of_count3 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">isinstance(data__packagedata_key</span><span class="s3">, </span><span class="s1">str):</span>
                                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__packagedata_key):</span>
                                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                                    <span class="s1">data__packagedata_key_one_of_count3 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__packagedata_key_one_of_count3 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">data__packagedata_key != </span><span class="s2">&quot;*&quot;</span><span class="s1">:</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must be same as const definition: *&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'const'</span><span class="s1">)</span>
                                    <span class="s1">data__packagedata_key_one_of_count3 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__packagedata_key_one_of_count3 != </span><span class="s4">1</span><span class="s1">:</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__packagedata_key_one_of_count3) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__packagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                            <span class="s1">data__packagedata_property_names = </span><span class="s3">False</span>
                    <span class="s3">if not </span><span class="s1">data__packagedata_property_names:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__packagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;include-package-data&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;include-package-data&quot;</span><span class="s1">)</span>
            <span class="s1">data__includepackagedata = data[</span><span class="s2">&quot;include-package-data&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__includepackagedata</span><span class="s3">, </span><span class="s1">(bool)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.include-package-data must be boolean&quot;</span><span class="s3">, </span><span class="s1">value=data__includepackagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.include-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;exclude-package-data&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;exclude-package-data&quot;</span><span class="s1">)</span>
            <span class="s1">data__excludepackagedata = data[</span><span class="s2">&quot;exclude-package-data&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__excludepackagedata</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__excludepackagedata_is_dict = isinstance(data__excludepackagedata</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__excludepackagedata_is_dict:</span>
                <span class="s1">data__excludepackagedata_keys = set(data__excludepackagedata.keys())</span>
                <span class="s3">for </span><span class="s1">data__excludepackagedata_key</span><span class="s3">, </span><span class="s1">data__excludepackagedata_val </span><span class="s3">in </span><span class="s1">data__excludepackagedata.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.*$'</span><span class="s1">].search(data__excludepackagedata_key):</span>
                        <span class="s3">if </span><span class="s1">data__excludepackagedata_key </span><span class="s3">in </span><span class="s1">data__excludepackagedata_keys:</span>
                            <span class="s1">data__excludepackagedata_keys.remove(data__excludepackagedata_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__excludepackagedata_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data.{data__excludepackagedata_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data.{data__excludepackagedata_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s1">data__excludepackagedata_val_is_list = isinstance(data__excludepackagedata_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                        <span class="s3">if </span><span class="s1">data__excludepackagedata_val_is_list:</span>
                            <span class="s1">data__excludepackagedata_val_len = len(data__excludepackagedata_val)</span>
                            <span class="s3">for </span><span class="s1">data__excludepackagedata_val_x</span><span class="s3">, </span><span class="s1">data__excludepackagedata_val_item </span><span class="s3">in </span><span class="s1">enumerate(data__excludepackagedata_val):</span>
                                <span class="s3">if not </span><span class="s1">isinstance(data__excludepackagedata_val_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data.{data__excludepackagedata_key}[{data__excludepackagedata_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata_val_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data.{data__excludepackagedata_key}[{data__excludepackagedata_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__excludepackagedata_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must not contain &quot;</span><span class="s1">+str(data__excludepackagedata_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                <span class="s1">data__excludepackagedata_len = len(data__excludepackagedata)</span>
                <span class="s3">if </span><span class="s1">data__excludepackagedata_len != </span><span class="s4">0</span><span class="s1">:</span>
                    <span class="s1">data__excludepackagedata_property_names = </span><span class="s3">True</span>
                    <span class="s3">for </span><span class="s1">data__excludepackagedata_key </span><span class="s3">in </span><span class="s1">data__excludepackagedata:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__excludepackagedata_key_one_of_count4 = </span><span class="s4">0</span>
                            <span class="s3">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">isinstance(data__excludepackagedata_key</span><span class="s3">, </span><span class="s1">str):</span>
                                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__excludepackagedata_key):</span>
                                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                                    <span class="s1">data__excludepackagedata_key_one_of_count4 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">data__excludepackagedata_key != </span><span class="s2">&quot;*&quot;</span><span class="s1">:</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must be same as const definition: *&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'const'</span><span class="s1">)</span>
                                    <span class="s1">data__excludepackagedata_key_one_of_count4 += </span><span class="s4">1</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                            <span class="s3">if </span><span class="s1">data__excludepackagedata_key_one_of_count4 != </span><span class="s4">1</span><span class="s1">:</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__excludepackagedata_key_one_of_count4) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                            <span class="s1">data__excludepackagedata_property_names = </span><span class="s3">False</span>
                    <span class="s3">if not </span><span class="s1">data__excludepackagedata_property_names:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__excludepackagedata</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.exclude-package-data&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;namespace-packages&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;namespace-packages&quot;</span><span class="s1">)</span>
            <span class="s1">data__namespacepackages = data[</span><span class="s2">&quot;namespace-packages&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__namespacepackages</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__namespacepackages</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__namespacepackages_is_list = isinstance(data__namespacepackages</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__namespacepackages_is_list:</span>
                <span class="s1">data__namespacepackages_len = len(data__namespacepackages)</span>
                <span class="s3">for </span><span class="s1">data__namespacepackages_x</span><span class="s3">, </span><span class="s1">data__namespacepackages_item </span><span class="s3">in </span><span class="s1">enumerate(data__namespacepackages):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__namespacepackages_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__namespacepackages_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__namespacepackages_item</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__namespacepackages_item):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__namespacepackages_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.namespace-packages[{data__namespacepackages_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;py-modules&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;py-modules&quot;</span><span class="s1">)</span>
            <span class="s1">data__pymodules = data[</span><span class="s2">&quot;py-modules&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__pymodules</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__pymodules</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__pymodules_is_list = isinstance(data__pymodules</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__pymodules_is_list:</span>
                <span class="s1">data__pymodules_len = len(data__pymodules)</span>
                <span class="s3">for </span><span class="s1">data__pymodules_x</span><span class="s3">, </span><span class="s1">data__pymodules_item </span><span class="s3">in </span><span class="s1">enumerate(data__pymodules):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__pymodules_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__pymodules_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__pymodules_item</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-module-name&quot;</span><span class="s1">](data__pymodules_item):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be python-module-name&quot;</span><span class="s3">, </span><span class="s1">value=data__pymodules_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.py-modules[{data__pymodules_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;data-files&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;data-files&quot;</span><span class="s1">)</span>
            <span class="s1">data__datafiles = data[</span><span class="s2">&quot;data-files&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__datafiles</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__datafiles</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__datafiles_is_dict = isinstance(data__datafiles</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__datafiles_is_dict:</span>
                <span class="s1">data__datafiles_keys = set(data__datafiles.keys())</span>
                <span class="s3">for </span><span class="s1">data__datafiles_key</span><span class="s3">, </span><span class="s1">data__datafiles_val </span><span class="s3">in </span><span class="s1">data__datafiles.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.*$'</span><span class="s1">].search(data__datafiles_key):</span>
                        <span class="s3">if </span><span class="s1">data__datafiles_key </span><span class="s3">in </span><span class="s1">data__datafiles_keys:</span>
                            <span class="s1">data__datafiles_keys.remove(data__datafiles_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__datafiles_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files.{data__datafiles_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__datafiles_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files.{data__datafiles_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s1">data__datafiles_val_is_list = isinstance(data__datafiles_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                        <span class="s3">if </span><span class="s1">data__datafiles_val_is_list:</span>
                            <span class="s1">data__datafiles_val_len = len(data__datafiles_val)</span>
                            <span class="s3">for </span><span class="s1">data__datafiles_val_x</span><span class="s3">, </span><span class="s1">data__datafiles_val_item </span><span class="s3">in </span><span class="s1">enumerate(data__datafiles_val):</span>
                                <span class="s3">if not </span><span class="s1">isinstance(data__datafiles_val_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files.{data__datafiles_key}[{data__datafiles_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__datafiles_val_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.data-files.{data__datafiles_key}[{data__datafiles_val_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;cmdclass&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;cmdclass&quot;</span><span class="s1">)</span>
            <span class="s1">data__cmdclass = data[</span><span class="s2">&quot;cmdclass&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__cmdclass</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__cmdclass</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__cmdclass_is_dict = isinstance(data__cmdclass</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__cmdclass_is_dict:</span>
                <span class="s1">data__cmdclass_keys = set(data__cmdclass.keys())</span>
                <span class="s3">for </span><span class="s1">data__cmdclass_key</span><span class="s3">, </span><span class="s1">data__cmdclass_val </span><span class="s3">in </span><span class="s1">data__cmdclass.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.*$'</span><span class="s1">].search(data__cmdclass_key):</span>
                        <span class="s3">if </span><span class="s1">data__cmdclass_key </span><span class="s3">in </span><span class="s1">data__cmdclass_keys:</span>
                            <span class="s1">data__cmdclass_keys.remove(data__cmdclass_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__cmdclass_val</span><span class="s3">, </span><span class="s1">(str)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__cmdclass_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s3">if </span><span class="s1">isinstance(data__cmdclass_val</span><span class="s3">, </span><span class="s1">str):</span>
                            <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-qualified-identifier&quot;</span><span class="s1">](data__cmdclass_val):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be python-qualified-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__cmdclass_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.cmdclass.{data__cmdclass_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;license-files&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;license-files&quot;</span><span class="s1">)</span>
            <span class="s1">data__licensefiles = data[</span><span class="s2">&quot;license-files&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__licensefiles</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license-files must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__licensefiles</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license-files&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__licensefiles_is_list = isinstance(data__licensefiles</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__licensefiles_is_list:</span>
                <span class="s1">data__licensefiles_len = len(data__licensefiles)</span>
                <span class="s3">for </span><span class="s1">data__licensefiles_x</span><span class="s3">, </span><span class="s1">data__licensefiles_item </span><span class="s3">in </span><span class="s1">enumerate(data__licensefiles):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__licensefiles_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license-files[{data__licensefiles_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__licensefiles_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license-files[{data__licensefiles_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">else</span><span class="s1">: data[</span><span class="s2">&quot;license-files&quot;</span><span class="s1">] = [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span>
        <span class="s3">if </span><span class="s2">&quot;dynamic&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">)</span>
            <span class="s1">data__dynamic = data[</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__dynamic</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__dynamic_is_dict = isinstance(data__dynamic</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__dynamic_is_dict:</span>
                <span class="s1">data__dynamic_keys = set(data__dynamic.keys())</span>
                <span class="s3">if </span><span class="s2">&quot;version&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;version&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__version = data__dynamic[</span><span class="s2">&quot;version&quot;</span><span class="s1">]</span>
                    <span class="s1">data__dynamic__version_one_of_count5 = </span><span class="s4">0</span>
                    <span class="s3">if </span><span class="s1">data__dynamic__version_one_of_count5 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_attr_directive(data__dynamic__version</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.version&quot;</span><span class="s1">)</span>
                            <span class="s1">data__dynamic__version_one_of_count5 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if </span><span class="s1">data__dynamic__version_one_of_count5 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__version</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.version&quot;</span><span class="s1">)</span>
                            <span class="s1">data__dynamic__version_one_of_count5 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if </span><span class="s1">data__dynamic__version_one_of_count5 != </span><span class="s4">1</span><span class="s1">:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.version must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__dynamic__version_one_of_count5) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__dynamic__version</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.version&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;classifiers&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;classifiers&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__classifiers = data__dynamic[</span><span class="s2">&quot;classifiers&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__classifiers</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.classifiers&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;description&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;description&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__description = data__dynamic[</span><span class="s2">&quot;description&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__description</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.description&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;dependencies&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;dependencies&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__dependencies = data__dynamic[</span><span class="s2">&quot;dependencies&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__dependencies</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.dependencies&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;entry-points&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;entry-points&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__entrypoints = data__dynamic[</span><span class="s2">&quot;entry-points&quot;</span><span class="s1">]</span>
                    <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__entrypoints</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.entry-points&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;optional-dependencies&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;optional-dependencies&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__optionaldependencies = data__dynamic[</span><span class="s2">&quot;optional-dependencies&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__dynamic__optionaldependencies</span><span class="s3">, </span><span class="s1">(dict)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__optionaldependencies_is_dict = isinstance(data__dynamic__optionaldependencies</span><span class="s3">, </span><span class="s1">dict)</span>
                    <span class="s3">if </span><span class="s1">data__dynamic__optionaldependencies_is_dict:</span>
                        <span class="s1">data__dynamic__optionaldependencies_keys = set(data__dynamic__optionaldependencies.keys())</span>
                        <span class="s3">for </span><span class="s1">data__dynamic__optionaldependencies_key</span><span class="s3">, </span><span class="s1">data__dynamic__optionaldependencies_val </span><span class="s3">in </span><span class="s1">data__dynamic__optionaldependencies.items():</span>
                            <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'.+'</span><span class="s1">].search(data__dynamic__optionaldependencies_key):</span>
                                <span class="s3">if </span><span class="s1">data__dynamic__optionaldependencies_key </span><span class="s3">in </span><span class="s1">data__dynamic__optionaldependencies_keys:</span>
                                    <span class="s1">data__dynamic__optionaldependencies_keys.remove(data__dynamic__optionaldependencies_key)</span>
                                <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__optionaldependencies_val</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies.{data__dynamic__optionaldependencies_key}&quot;</span><span class="s1">)</span>
                        <span class="s3">if </span><span class="s1">data__dynamic__optionaldependencies_keys:</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies must not contain &quot;</span><span class="s1">+str(data__dynamic__optionaldependencies_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                        <span class="s1">data__dynamic__optionaldependencies_len = len(data__dynamic__optionaldependencies)</span>
                        <span class="s3">if </span><span class="s1">data__dynamic__optionaldependencies_len != </span><span class="s4">0</span><span class="s1">:</span>
                            <span class="s1">data__dynamic__optionaldependencies_property_names = </span><span class="s3">True</span>
                            <span class="s3">for </span><span class="s1">data__dynamic__optionaldependencies_key </span><span class="s3">in </span><span class="s1">data__dynamic__optionaldependencies:</span>
                                <span class="s3">try</span><span class="s1">:</span>
                                    <span class="s3">if </span><span class="s1">isinstance(data__dynamic__optionaldependencies_key</span><span class="s3">, </span><span class="s1">str):</span>
                                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-identifier&quot;</span><span class="s1">](data__dynamic__optionaldependencies_key):</span>
                                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies must be python-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__optionaldependencies_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                                <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                                    <span class="s1">data__dynamic__optionaldependencies_property_names = </span><span class="s3">False</span>
                            <span class="s3">if not </span><span class="s1">data__dynamic__optionaldependencies_property_names:</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;readme&quot; </span><span class="s3">in </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s1">data__dynamic_keys.remove(</span><span class="s2">&quot;readme&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__readme = data__dynamic[</span><span class="s2">&quot;readme&quot;</span><span class="s1">]</span>
                    <span class="s1">data__dynamic__readme_any_of_count6 = </span><span class="s4">0</span>
                    <span class="s3">if not </span><span class="s1">data__dynamic__readme_any_of_count6:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data__dynamic__readme</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme&quot;</span><span class="s1">)</span>
                            <span class="s1">data__dynamic__readme_any_of_count6 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if not </span><span class="s1">data__dynamic__readme_any_of_count6:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__dynamic__readme_is_dict = isinstance(data__dynamic__readme</span><span class="s3">, </span><span class="s1">dict)</span>
                            <span class="s3">if </span><span class="s1">data__dynamic__readme_is_dict:</span>
                                <span class="s1">data__dynamic__readme_keys = set(data__dynamic__readme.keys())</span>
                                <span class="s3">if </span><span class="s2">&quot;content-type&quot; </span><span class="s3">in </span><span class="s1">data__dynamic__readme_keys:</span>
                                    <span class="s1">data__dynamic__readme_keys.remove(</span><span class="s2">&quot;content-type&quot;</span><span class="s1">)</span>
                                    <span class="s1">data__dynamic__readme__contenttype = data__dynamic__readme[</span><span class="s2">&quot;content-type&quot;</span><span class="s1">]</span>
                                    <span class="s3">if not </span><span class="s1">isinstance(data__dynamic__readme__contenttype</span><span class="s3">, </span><span class="s1">(str)):</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme.content-type must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__readme__contenttype</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme.content-type&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                            <span class="s1">data__dynamic__readme_any_of_count6 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if not </span><span class="s1">data__dynamic__readme_any_of_count6:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme cannot be validated by any definition&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'anyOf'</span><span class="s1">)</span>
                    <span class="s1">data__dynamic__readme_is_dict = isinstance(data__dynamic__readme</span><span class="s3">, </span><span class="s1">dict)</span>
                    <span class="s3">if </span><span class="s1">data__dynamic__readme_is_dict:</span>
                        <span class="s1">data__dynamic__readme_len = len(data__dynamic__readme)</span>
                        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__dynamic__readme </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'file'</span><span class="s1">]):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme must contain ['file'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__dynamic_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic must not contain &quot;</span><span class="s1">+str(data__dynamic_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/references/keywords.html'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.setuptools`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Please notice for the time being the ``setuptools`` project does not specify'</span><span class="s3">, </span><span class="s2">'a way of configuring builds via ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'Therefore this schema should be taken just as a *&quot;thought experiment&quot;* on how'</span><span class="s3">, </span><span class="s2">'this *might be done*, by following the principles established in'</span><span class="s3">, </span><span class="s2">'`ini2toml &lt;https://ini2toml.readthedocs.io/en/latest/setuptools_pep621.html&gt;`_.'</span><span class="s3">, </span><span class="s2">'It considers only ``setuptools`` `parameters'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/declarative_config.html&gt;`_'</span><span class="s3">, </span><span class="s2">'that can currently be configured via ``setup.cfg`` and are not covered by :pep:`621`'</span><span class="s3">, </span><span class="s2">'but intentionally excludes ``dependency_links`` and ``setup_requires``.'</span><span class="s3">, </span><span class="s2">'NOTE: ``scripts`` was renamed to ``script-files`` to avoid confusion with'</span><span class="s3">, </span><span class="s2">'entry-point based scripts (defined in :pep:`621`).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'platforms'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'provides'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Package and virtual package names contained within this package'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'obsoletes'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages which this package renders obsolete'</span><span class="s3">, </span><span class="s2">'**(not supported by pip)**'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'zip-safe'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Whether the project can be safely installed and run from a zip file.'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'script-files'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Legacy way of defining scripts (entry-points are preferred).'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: is this field deprecated/should be removed?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'eager-resources'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Resources that should be extracted together, if any of them is needed,'</span><span class="s3">, </span><span class="s2">'or if any C extensions included in the project are imported.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'packages'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Packages that should be included in the distribution.'</span><span class="s3">, </span><span class="s2">'It can be given either as a list of package identifiers'</span><span class="s3">, </span><span class="s2">'or as a ``dict``-like structure with a single key ``find``'</span><span class="s3">, </span><span class="s2">'which corresponds to a dynamic call to'</span><span class="s3">, </span><span class="s2">'``setuptools.config.expand.find_packages`` function.'</span><span class="s3">, </span><span class="s2">'The ``find`` key is associated with a nested ``dict``-like structure that can'</span><span class="s3">, </span><span class="s2">'contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,'</span><span class="s3">, </span><span class="s2">'mimicking the keyword arguments of the associated function.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Array of Python package identifiers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}]}</span><span class="s3">, </span><span class="s2">'package-dir'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">':class:`dict`-like structure mapping from package names to directories where their'</span><span class="s3">, </span><span class="s2">'code can be found.'</span><span class="s3">, </span><span class="s2">'The empty string (as key) means that all packages are contained inside'</span><span class="s3">, </span><span class="s2">'the given directory will be included in the distribution.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">''</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns.'</span><span class="s3">, </span><span class="s2">'Usually this option is not needed when using ``include-package-data = true``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'include-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Automatically include any data files inside the package directories'</span><span class="s3">, </span><span class="s2">'that are specified by ``MANIFEST.in``'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'exclude-package-data'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping from package names to lists of glob patterns that should be excluded'</span><span class="s3">, </span><span class="s2">'For more information on how to include data files, check ``setuptools`` `docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'*'</span><span class="s1">}]}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'namespace-packages'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://setuptools.pypa.io/en/latest/userguide/package_discovery.html'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'py-modules'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Modules that setuptools will manipulate'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-module-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: clarify the relationship with ``packages``'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'data-files'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'**DEPRECATED**: dict-like structure where each key represents a directory and'</span><span class="s3">, </span><span class="s2">'the value is a list of glob patterns that should be installed in them.'</span><span class="s3">, </span><span class="s2">&quot;Please notice this don't work with wheels. See `data files support&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/datafiles.html&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'cmdclass'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Mapping of distutils-style command names to ``setuptools.Command`` subclasses'</span><span class="s3">, </span><span class="s2">'which in turn should be represented by strings with a qualified class name'</span><span class="s3">, </span><span class="s2">'(i.e., &quot;dotted&quot; form with module), e.g.::</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'    cmdclass = {mycmd = &quot;pkg.subpkg.module.CommandClass&quot;}</span><span class="s3">\n\n</span><span class="s2">'</span><span class="s3">, </span><span class="s2">'The command class should be a directly defined at the top-level of the'</span><span class="s3">, </span><span class="s2">'containing module (no class nesting).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.*$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-qualified-identifier'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'license-files'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'PROVISIONAL: List of glob patterns for all license files being distributed.'</span><span class="s3">, </span><span class="s2">'(might become standard with PEP 639).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'default'</span><span class="s1">: [</span><span class="s2">'LICEN[CS]E*'</span><span class="s3">, </span><span class="s2">' COPYING*'</span><span class="s3">, </span><span class="s2">' NOTICE*'</span><span class="s3">, </span><span class="s2">'AUTHORS*'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Instructions for loading :pep:`621`-related metadata dynamically'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'A version dynamically loaded via either the ``attr:`` or ``file:``'</span><span class="s3">, </span><span class="s2">'directives. Please make sure the given file or attribute respects :pep:`440`.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}}]</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}}}}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'file-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'attr-directive'</span><span class="s1">: {</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'find-directive'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_file_directive(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_len = len(data)</span>
        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'file'</span><span class="s1">]):</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must contain ['file'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;file&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;file&quot;</span><span class="s1">)</span>
            <span class="s1">data__file = data[</span><span class="s2">&quot;file&quot;</span><span class="s1">]</span>
            <span class="s1">data__file_one_of_count7 = </span><span class="s4">0</span>
            <span class="s3">if </span><span class="s1">data__file_one_of_count7 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__file</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__file</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__file_one_of_count7 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__file_one_of_count7 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__file</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__file</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__file_is_list = isinstance(data__file</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__file_is_list:</span>
                        <span class="s1">data__file_len = len(data__file)</span>
                        <span class="s3">for </span><span class="s1">data__file_x</span><span class="s3">, </span><span class="s1">data__file_item </span><span class="s3">in </span><span class="s1">enumerate(data__file):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__file_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file[{data__file_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__file_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file[{data__file_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__file_one_of_count7 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__file_one_of_count7 != </span><span class="s4">1</span><span class="s1">:</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__file_one_of_count7) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__file</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.file&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/file-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'file:' directive&quot;</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Value is read from a file (or list of files and then concatenated)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_attr_directive(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_len = len(data)</span>
        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'attr'</span><span class="s1">]):</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must contain ['attr'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;attr&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;attr&quot;</span><span class="s1">)</span>
            <span class="s1">data__attr = data[</span><span class="s2">&quot;attr&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__attr</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.attr must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__attr</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.attr&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'attr:' directive&quot;</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/attr-directive'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Value is read from a module attribute. Supports callables and iterables;'</span><span class="s3">, </span><span class="s2">'unsupported types are cast via ``str()``'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'attr'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'attr'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___setuptools_pypa_io_en_latest_references_keywords_html__definitions_find_directive(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;find&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;find&quot;</span><span class="s1">)</span>
            <span class="s1">data__find = data[</span><span class="s2">&quot;find&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__find</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__find</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__find_is_dict = isinstance(data__find</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__find_is_dict:</span>
                <span class="s1">data__find_keys = set(data__find.keys())</span>
                <span class="s3">if </span><span class="s2">&quot;where&quot; </span><span class="s3">in </span><span class="s1">data__find_keys:</span>
                    <span class="s1">data__find_keys.remove(</span><span class="s2">&quot;where&quot;</span><span class="s1">)</span>
                    <span class="s1">data__find__where = data__find[</span><span class="s2">&quot;where&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__find__where</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.where must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__find__where</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.where&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__find__where_is_list = isinstance(data__find__where</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__find__where_is_list:</span>
                        <span class="s1">data__find__where_len = len(data__find__where)</span>
                        <span class="s3">for </span><span class="s1">data__find__where_x</span><span class="s3">, </span><span class="s1">data__find__where_item </span><span class="s3">in </span><span class="s1">enumerate(data__find__where):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__find__where_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.where[{data__find__where_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__find__where_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.where[{data__find__where_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;exclude&quot; </span><span class="s3">in </span><span class="s1">data__find_keys:</span>
                    <span class="s1">data__find_keys.remove(</span><span class="s2">&quot;exclude&quot;</span><span class="s1">)</span>
                    <span class="s1">data__find__exclude = data__find[</span><span class="s2">&quot;exclude&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__find__exclude</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.exclude must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__find__exclude</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.exclude&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__find__exclude_is_list = isinstance(data__find__exclude</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__find__exclude_is_list:</span>
                        <span class="s1">data__find__exclude_len = len(data__find__exclude)</span>
                        <span class="s3">for </span><span class="s1">data__find__exclude_x</span><span class="s3">, </span><span class="s1">data__find__exclude_item </span><span class="s3">in </span><span class="s1">enumerate(data__find__exclude):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__find__exclude_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.exclude[{data__find__exclude_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__find__exclude_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.exclude[{data__find__exclude_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;include&quot; </span><span class="s3">in </span><span class="s1">data__find_keys:</span>
                    <span class="s1">data__find_keys.remove(</span><span class="s2">&quot;include&quot;</span><span class="s1">)</span>
                    <span class="s1">data__find__include = data__find[</span><span class="s2">&quot;include&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__find__include</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.include must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__find__include</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.include&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__find__include_is_list = isinstance(data__find__include</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__find__include_is_list:</span>
                        <span class="s1">data__find__include_len = len(data__find__include)</span>
                        <span class="s3">for </span><span class="s1">data__find__include_x</span><span class="s3">, </span><span class="s1">data__find__include_item </span><span class="s3">in </span><span class="s1">enumerate(data__find__include):</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__find__include_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.include[{data__find__include_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__find__include_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.include[{data__find__include_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s2">&quot;namespaces&quot; </span><span class="s3">in </span><span class="s1">data__find_keys:</span>
                    <span class="s1">data__find_keys.remove(</span><span class="s2">&quot;namespaces&quot;</span><span class="s1">)</span>
                    <span class="s1">data__find__namespaces = data__find[</span><span class="s2">&quot;namespaces&quot;</span><span class="s1">]</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__find__namespaces</span><span class="s3">, </span><span class="s1">(bool)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.namespaces must be boolean&quot;</span><span class="s3">, </span><span class="s1">value=data__find__namespaces</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find.namespaces&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__find_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find must not contain &quot;</span><span class="s1">+str(data__find_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__find</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.find&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/find-directive'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">&quot;'find:' directive&quot;</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'find'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Dynamic `package discovery'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/package_discovery.html&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'where'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Directories to be searched for packages (Unix-style relative path)'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'exclude'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Exclude packages that match the values listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'include'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Restrict the found packages to just the ones listed in this field.'</span><span class="s3">, </span><span class="s2">&quot;Can container shell-style wildcards (e.g. ``'pkg.*'``)&quot;</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'namespaces'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'boolean'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'When ``True``, directories without a ``__init__.py`` file will also'</span><span class="s3">, </span><span class="s2">'be scanned for :pep:`420`-style implicit namespaces'</span><span class="s1">]}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___docs_python_org_3_install(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://docs.python.org/3/install/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'``tool.distutils`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Originally, ``distutils`` allowed developers to configure arguments for'</span><span class="s3">, </span><span class="s2">'``setup.py`` scripts via `distutils configuration files'</span><span class="s3">, </span><span class="s2">'&lt;https://docs.python.org/3/install/#distutils-configuration-files&gt;`_.'</span><span class="s3">, </span><span class="s2">'``tool.distutils`` subtables could be used with the same purpose'</span><span class="s3">, </span><span class="s2">'(NOT CURRENTLY IMPLEMENTED).'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'global'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Global options applied to all ``distutils`` commands'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'.+'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: Is there a practical way of making this schema more specific?'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;global&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;global&quot;</span><span class="s1">)</span>
            <span class="s1">data__global = data[</span><span class="s2">&quot;global&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__global</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.global must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__global</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.global&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Global options applied to all ``distutils`` commands'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">for </span><span class="s1">data_key</span><span class="s3">, </span><span class="s1">data_val </span><span class="s3">in </span><span class="s1">data.items():</span>
            <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'.+'</span><span class="s1">].search(data_key):</span>
                <span class="s3">if </span><span class="s1">data_key </span><span class="s3">in </span><span class="s1">data_keys:</span>
                    <span class="s1">data_keys.remove(data_key)</span>
                <span class="s3">if not </span><span class="s1">isinstance(data_val</span><span class="s3">, </span><span class="s1">(dict)):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_len = len(data)</span>
        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'name'</span><span class="s1">]):</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must contain ['name'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;name&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;name&quot;</span><span class="s1">)</span>
            <span class="s1">data__name = data[</span><span class="s2">&quot;name&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__name</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__name</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s3">if </span><span class="s1">isinstance(data__name</span><span class="s3">, </span><span class="s1">str):</span>
                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508-identifier&quot;</span><span class="s1">](data__name):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name must be pep508-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__name</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;version&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;version&quot;</span><span class="s1">)</span>
            <span class="s1">data__version = data[</span><span class="s2">&quot;version&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__version</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.version must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__version</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.version&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s3">if </span><span class="s1">isinstance(data__version</span><span class="s3">, </span><span class="s1">str):</span>
                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep440&quot;</span><span class="s1">](data__version):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.version must be pep440&quot;</span><span class="s3">, </span><span class="s1">value=data__version</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.version&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;description&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;description&quot;</span><span class="s1">)</span>
            <span class="s1">data__description = data[</span><span class="s2">&quot;description&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__description</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.description must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__description</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.description&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;readme&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;readme&quot;</span><span class="s1">)</span>
            <span class="s1">data__readme = data[</span><span class="s2">&quot;readme&quot;</span><span class="s1">]</span>
            <span class="s1">data__readme_one_of_count8 = </span><span class="s4">0</span>
            <span class="s3">if </span><span class="s1">data__readme_one_of_count8 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__readme</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__readme_one_of_count8 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__readme_one_of_count8 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__readme</span><span class="s3">, </span><span class="s1">(dict)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__readme_any_of_count9 = </span><span class="s4">0</span>
                    <span class="s3">if not </span><span class="s1">data__readme_any_of_count9:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__readme_is_dict = isinstance(data__readme</span><span class="s3">, </span><span class="s1">dict)</span>
                            <span class="s3">if </span><span class="s1">data__readme_is_dict:</span>
                                <span class="s1">data__readme_len = len(data__readme)</span>
                                <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__readme </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'file'</span><span class="s1">]):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must contain ['file'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                                <span class="s1">data__readme_keys = set(data__readme.keys())</span>
                                <span class="s3">if </span><span class="s2">&quot;file&quot; </span><span class="s3">in </span><span class="s1">data__readme_keys:</span>
                                    <span class="s1">data__readme_keys.remove(</span><span class="s2">&quot;file&quot;</span><span class="s1">)</span>
                                    <span class="s1">data__readme__file = data__readme[</span><span class="s2">&quot;file&quot;</span><span class="s1">]</span>
                                    <span class="s3">if not </span><span class="s1">isinstance(data__readme__file</span><span class="s3">, </span><span class="s1">(str)):</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.file must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__readme__file</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.file&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                            <span class="s1">data__readme_any_of_count9 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if not </span><span class="s1">data__readme_any_of_count9:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s1">data__readme_is_dict = isinstance(data__readme</span><span class="s3">, </span><span class="s1">dict)</span>
                            <span class="s3">if </span><span class="s1">data__readme_is_dict:</span>
                                <span class="s1">data__readme_len = len(data__readme)</span>
                                <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__readme </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'text'</span><span class="s1">]):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must contain ['text'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                                <span class="s1">data__readme_keys = set(data__readme.keys())</span>
                                <span class="s3">if </span><span class="s2">&quot;text&quot; </span><span class="s3">in </span><span class="s1">data__readme_keys:</span>
                                    <span class="s1">data__readme_keys.remove(</span><span class="s2">&quot;text&quot;</span><span class="s1">)</span>
                                    <span class="s1">data__readme__text = data__readme[</span><span class="s2">&quot;text&quot;</span><span class="s1">]</span>
                                    <span class="s3">if not </span><span class="s1">isinstance(data__readme__text</span><span class="s3">, </span><span class="s1">(str)):</span>
                                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.text must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__readme__text</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.text&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                            <span class="s1">data__readme_any_of_count9 += </span><span class="s4">1</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                    <span class="s3">if not </span><span class="s1">data__readme_any_of_count9:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme cannot be validated by any definition&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'anyOf'</span><span class="s1">)</span>
                    <span class="s1">data__readme_is_dict = isinstance(data__readme</span><span class="s3">, </span><span class="s1">dict)</span>
                    <span class="s3">if </span><span class="s1">data__readme_is_dict:</span>
                        <span class="s1">data__readme_len = len(data__readme)</span>
                        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__readme </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'content-type'</span><span class="s1">]):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must contain ['content-type'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                        <span class="s1">data__readme_keys = set(data__readme.keys())</span>
                        <span class="s3">if </span><span class="s2">&quot;content-type&quot; </span><span class="s3">in </span><span class="s1">data__readme_keys:</span>
                            <span class="s1">data__readme_keys.remove(</span><span class="s2">&quot;content-type&quot;</span><span class="s1">)</span>
                            <span class="s1">data__readme__contenttype = data__readme[</span><span class="s2">&quot;content-type&quot;</span><span class="s1">]</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__readme__contenttype</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.content-type must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__readme__contenttype</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme.content-type&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__readme_one_of_count8 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__readme_one_of_count8 != </span><span class="s4">1</span><span class="s1">:</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__readme_one_of_count8) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__readme</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.readme&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;requires-python&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;requires-python&quot;</span><span class="s1">)</span>
            <span class="s1">data__requirespython = data[</span><span class="s2">&quot;requires-python&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__requirespython</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.requires-python must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__requirespython</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.requires-python&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s3">if </span><span class="s1">isinstance(data__requirespython</span><span class="s3">, </span><span class="s1">str):</span>
                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508-versionspec&quot;</span><span class="s1">](data__requirespython):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.requires-python must be pep508-versionspec&quot;</span><span class="s3">, </span><span class="s1">value=data__requirespython</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.requires-python&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;license&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;license&quot;</span><span class="s1">)</span>
            <span class="s1">data__license = data[</span><span class="s2">&quot;license&quot;</span><span class="s1">]</span>
            <span class="s1">data__license_one_of_count10 = </span><span class="s4">0</span>
            <span class="s3">if </span><span class="s1">data__license_one_of_count10 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s1">data__license_is_dict = isinstance(data__license</span><span class="s3">, </span><span class="s1">dict)</span>
                    <span class="s3">if </span><span class="s1">data__license_is_dict:</span>
                        <span class="s1">data__license_len = len(data__license)</span>
                        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__license </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'file'</span><span class="s1">]):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license must contain ['file'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__license</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                        <span class="s1">data__license_keys = set(data__license.keys())</span>
                        <span class="s3">if </span><span class="s2">&quot;file&quot; </span><span class="s3">in </span><span class="s1">data__license_keys:</span>
                            <span class="s1">data__license_keys.remove(</span><span class="s2">&quot;file&quot;</span><span class="s1">)</span>
                            <span class="s1">data__license__file = data__license[</span><span class="s2">&quot;file&quot;</span><span class="s1">]</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__license__file</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license.file must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__license__file</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license.file&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__license_one_of_count10 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__license_one_of_count10 &lt; </span><span class="s4">2</span><span class="s1">:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s1">data__license_is_dict = isinstance(data__license</span><span class="s3">, </span><span class="s1">dict)</span>
                    <span class="s3">if </span><span class="s1">data__license_is_dict:</span>
                        <span class="s1">data__license_len = len(data__license)</span>
                        <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data__license </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'text'</span><span class="s1">]):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license must contain ['text'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data__license</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                        <span class="s1">data__license_keys = set(data__license.keys())</span>
                        <span class="s3">if </span><span class="s2">&quot;text&quot; </span><span class="s3">in </span><span class="s1">data__license_keys:</span>
                            <span class="s1">data__license_keys.remove(</span><span class="s2">&quot;text&quot;</span><span class="s1">)</span>
                            <span class="s1">data__license__text = data__license[</span><span class="s2">&quot;text&quot;</span><span class="s1">]</span>
                            <span class="s3">if not </span><span class="s1">isinstance(data__license__text</span><span class="s3">, </span><span class="s1">(str)):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license.text must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__license__text</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license.text&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s1">data__license_one_of_count10 += </span><span class="s4">1</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
            <span class="s3">if </span><span class="s1">data__license_one_of_count10 != </span><span class="s4">1</span><span class="s1">:</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license must be valid exactly by one definition&quot; </span><span class="s1">+ (</span><span class="s2">&quot; (&quot; </span><span class="s1">+ str(data__license_one_of_count10) + </span><span class="s2">&quot; matches found)&quot;</span><span class="s1">)</span><span class="s3">, </span><span class="s1">value=data__license</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.license&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'oneOf'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;authors&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;authors&quot;</span><span class="s1">)</span>
            <span class="s1">data__authors = data[</span><span class="s2">&quot;authors&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__authors</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.authors must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__authors</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.authors&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__authors_is_list = isinstance(data__authors</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__authors_is_list:</span>
                <span class="s1">data__authors_len = len(data__authors)</span>
                <span class="s3">for </span><span class="s1">data__authors_x</span><span class="s3">, </span><span class="s1">data__authors_item </span><span class="s3">in </span><span class="s1">enumerate(data__authors):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author(data__authors_item</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.authors[{data__authors_x}]&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;maintainers&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;maintainers&quot;</span><span class="s1">)</span>
            <span class="s1">data__maintainers = data[</span><span class="s2">&quot;maintainers&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__maintainers</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.maintainers must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__maintainers</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.maintainers&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__maintainers_is_list = isinstance(data__maintainers</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__maintainers_is_list:</span>
                <span class="s1">data__maintainers_len = len(data__maintainers)</span>
                <span class="s3">for </span><span class="s1">data__maintainers_x</span><span class="s3">, </span><span class="s1">data__maintainers_item </span><span class="s3">in </span><span class="s1">enumerate(data__maintainers):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author(data__maintainers_item</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.maintainers[{data__maintainers_x}]&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;keywords&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;keywords&quot;</span><span class="s1">)</span>
            <span class="s1">data__keywords = data[</span><span class="s2">&quot;keywords&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__keywords</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.keywords must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__keywords</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.keywords&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__keywords_is_list = isinstance(data__keywords</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__keywords_is_list:</span>
                <span class="s1">data__keywords_len = len(data__keywords)</span>
                <span class="s3">for </span><span class="s1">data__keywords_x</span><span class="s3">, </span><span class="s1">data__keywords_item </span><span class="s3">in </span><span class="s1">enumerate(data__keywords):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__keywords_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.keywords[{data__keywords_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__keywords_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.keywords[{data__keywords_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;classifiers&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;classifiers&quot;</span><span class="s1">)</span>
            <span class="s1">data__classifiers = data[</span><span class="s2">&quot;classifiers&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__classifiers</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__classifiers</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__classifiers_is_list = isinstance(data__classifiers</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__classifiers_is_list:</span>
                <span class="s1">data__classifiers_len = len(data__classifiers)</span>
                <span class="s3">for </span><span class="s1">data__classifiers_x</span><span class="s3">, </span><span class="s1">data__classifiers_item </span><span class="s3">in </span><span class="s1">enumerate(data__classifiers):</span>
                    <span class="s3">if not </span><span class="s1">isinstance(data__classifiers_item</span><span class="s3">, </span><span class="s1">(str)):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__classifiers_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                    <span class="s3">if </span><span class="s1">isinstance(data__classifiers_item</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;trove-classifier&quot;</span><span class="s1">](data__classifiers_item):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be trove-classifier&quot;</span><span class="s3">, </span><span class="s1">value=data__classifiers_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.classifiers[{data__classifiers_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;urls&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;urls&quot;</span><span class="s1">)</span>
            <span class="s1">data__urls = data[</span><span class="s2">&quot;urls&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__urls</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__urls</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__urls_is_dict = isinstance(data__urls</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__urls_is_dict:</span>
                <span class="s1">data__urls_keys = set(data__urls.keys())</span>
                <span class="s3">for </span><span class="s1">data__urls_key</span><span class="s3">, </span><span class="s1">data__urls_val </span><span class="s3">in </span><span class="s1">data__urls.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.+$'</span><span class="s1">].search(data__urls_key):</span>
                        <span class="s3">if </span><span class="s1">data__urls_key </span><span class="s3">in </span><span class="s1">data__urls_keys:</span>
                            <span class="s1">data__urls_keys.remove(data__urls_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__urls_val</span><span class="s3">, </span><span class="s1">(str)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls.{data__urls_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__urls_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls.{data__urls_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s3">if </span><span class="s1">isinstance(data__urls_val</span><span class="s3">, </span><span class="s1">str):</span>
                            <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;url&quot;</span><span class="s1">](data__urls_val):</span>
                                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls.{data__urls_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be url&quot;</span><span class="s3">, </span><span class="s1">value=data__urls_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls.{data__urls_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__urls_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls must not contain &quot;</span><span class="s1">+str(data__urls_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__urls</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.urls&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;scripts&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;scripts&quot;</span><span class="s1">)</span>
            <span class="s1">data__scripts = data[</span><span class="s2">&quot;scripts&quot;</span><span class="s1">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group(data__scripts</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.scripts&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;gui-scripts&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;gui-scripts&quot;</span><span class="s1">)</span>
            <span class="s1">data__guiscripts = data[</span><span class="s2">&quot;gui-scripts&quot;</span><span class="s1">]</span>
            <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group(data__guiscripts</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.gui-scripts&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;entry-points&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;entry-points&quot;</span><span class="s1">)</span>
            <span class="s1">data__entrypoints = data[</span><span class="s2">&quot;entry-points&quot;</span><span class="s1">]</span>
            <span class="s1">data__entrypoints_is_dict = isinstance(data__entrypoints</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__entrypoints_is_dict:</span>
                <span class="s1">data__entrypoints_keys = set(data__entrypoints.keys())</span>
                <span class="s3">for </span><span class="s1">data__entrypoints_key</span><span class="s3">, </span><span class="s1">data__entrypoints_val </span><span class="s3">in </span><span class="s1">data__entrypoints.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.+$'</span><span class="s1">].search(data__entrypoints_key):</span>
                        <span class="s3">if </span><span class="s1">data__entrypoints_key </span><span class="s3">in </span><span class="s1">data__entrypoints_keys:</span>
                            <span class="s1">data__entrypoints_keys.remove(data__entrypoints_key)</span>
                        <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group(data__entrypoints_val</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points.{data__entrypoints_key}&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__entrypoints_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points must not contain &quot;</span><span class="s1">+str(data__entrypoints_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__entrypoints</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                <span class="s1">data__entrypoints_len = len(data__entrypoints)</span>
                <span class="s3">if </span><span class="s1">data__entrypoints_len != </span><span class="s4">0</span><span class="s1">:</span>
                    <span class="s1">data__entrypoints_property_names = </span><span class="s3">True</span>
                    <span class="s3">for </span><span class="s1">data__entrypoints_key </span><span class="s3">in </span><span class="s1">data__entrypoints:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s3">if </span><span class="s1">isinstance(data__entrypoints_key</span><span class="s3">, </span><span class="s1">str):</span>
                                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-entrypoint-group&quot;</span><span class="s1">](data__entrypoints_key):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points must be python-entrypoint-group&quot;</span><span class="s3">, </span><span class="s1">value=data__entrypoints_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                            <span class="s1">data__entrypoints_property_names = </span><span class="s3">False</span>
                    <span class="s3">if not </span><span class="s1">data__entrypoints_property_names:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__entrypoints</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.entry-points&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;dependencies&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;dependencies&quot;</span><span class="s1">)</span>
            <span class="s1">data__dependencies = data[</span><span class="s2">&quot;dependencies&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__dependencies</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dependencies must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__dependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__dependencies_is_list = isinstance(data__dependencies</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__dependencies_is_list:</span>
                <span class="s1">data__dependencies_len = len(data__dependencies)</span>
                <span class="s3">for </span><span class="s1">data__dependencies_x</span><span class="s3">, </span><span class="s1">data__dependencies_item </span><span class="s3">in </span><span class="s1">enumerate(data__dependencies):</span>
                    <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency(data__dependencies_item</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dependencies[{data__dependencies_x}]&quot;</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;optional-dependencies&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;optional-dependencies&quot;</span><span class="s1">)</span>
            <span class="s1">data__optionaldependencies = data[</span><span class="s2">&quot;optional-dependencies&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__optionaldependencies</span><span class="s3">, </span><span class="s1">(dict)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies must be object&quot;</span><span class="s3">, </span><span class="s1">value=data__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__optionaldependencies_is_dict = isinstance(data__optionaldependencies</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data__optionaldependencies_is_dict:</span>
                <span class="s1">data__optionaldependencies_keys = set(data__optionaldependencies.keys())</span>
                <span class="s3">for </span><span class="s1">data__optionaldependencies_key</span><span class="s3">, </span><span class="s1">data__optionaldependencies_val </span><span class="s3">in </span><span class="s1">data__optionaldependencies.items():</span>
                    <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.+$'</span><span class="s1">].search(data__optionaldependencies_key):</span>
                        <span class="s3">if </span><span class="s1">data__optionaldependencies_key </span><span class="s3">in </span><span class="s1">data__optionaldependencies_keys:</span>
                            <span class="s1">data__optionaldependencies_keys.remove(data__optionaldependencies_key)</span>
                        <span class="s3">if not </span><span class="s1">isinstance(data__optionaldependencies_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies.{data__optionaldependencies_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__optionaldependencies_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies.{data__optionaldependencies_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                        <span class="s1">data__optionaldependencies_val_is_list = isinstance(data__optionaldependencies_val</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                        <span class="s3">if </span><span class="s1">data__optionaldependencies_val_is_list:</span>
                            <span class="s1">data__optionaldependencies_val_len = len(data__optionaldependencies_val)</span>
                            <span class="s3">for </span><span class="s1">data__optionaldependencies_val_x</span><span class="s3">, </span><span class="s1">data__optionaldependencies_val_item </span><span class="s3">in </span><span class="s1">enumerate(data__optionaldependencies_val):</span>
                                <span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency(data__optionaldependencies_val_item</span><span class="s3">, </span><span class="s1">custom_formats</span><span class="s3">, </span><span class="s1">(name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies.{data__optionaldependencies_key}[{data__optionaldependencies_val_x}]&quot;</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">data__optionaldependencies_keys:</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies must not contain &quot;</span><span class="s1">+str(data__optionaldependencies_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
                <span class="s1">data__optionaldependencies_len = len(data__optionaldependencies)</span>
                <span class="s3">if </span><span class="s1">data__optionaldependencies_len != </span><span class="s4">0</span><span class="s1">:</span>
                    <span class="s1">data__optionaldependencies_property_names = </span><span class="s3">True</span>
                    <span class="s3">for </span><span class="s1">data__optionaldependencies_key </span><span class="s3">in </span><span class="s1">data__optionaldependencies:</span>
                        <span class="s3">try</span><span class="s1">:</span>
                            <span class="s3">if </span><span class="s1">isinstance(data__optionaldependencies_key</span><span class="s3">, </span><span class="s1">str):</span>
                                <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508-identifier&quot;</span><span class="s1">](data__optionaldependencies_key):</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies must be pep508-identifier&quot;</span><span class="s3">, </span><span class="s1">value=data__optionaldependencies_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                        <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                            <span class="s1">data__optionaldependencies_property_names = </span><span class="s3">False</span>
                    <span class="s3">if not </span><span class="s1">data__optionaldependencies_property_names:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data__optionaldependencies</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.optional-dependencies&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;dynamic&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">)</span>
            <span class="s1">data__dynamic = data[</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__dynamic</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic must be array&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s1">data__dynamic_is_list = isinstance(data__dynamic</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
            <span class="s3">if </span><span class="s1">data__dynamic_is_list:</span>
                <span class="s1">data__dynamic_len = len(data__dynamic)</span>
                <span class="s3">for </span><span class="s1">data__dynamic_x</span><span class="s3">, </span><span class="s1">data__dynamic_item </span><span class="s3">in </span><span class="s1">enumerate(data__dynamic):</span>
                    <span class="s3">if </span><span class="s1">data__dynamic_item </span><span class="s3">not in </span><span class="s1">[</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]:</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic[{data__dynamic_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be one of ['version', 'description', 'readme', 'requires-python', 'license', 'authors', 'maintainers', 'keywords', 'classifiers', 'urls', 'scripts', 'gui-scripts', 'entry-points', 'dependencies', 'optional-dependencies']&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic_item</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic[{data__dynamic_x}]&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'enum'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$schema'</span><span class="s1">: </span><span class="s2">'http://json-schema.org/draft-07/schema'</span><span class="s3">, </span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/en/latest/specifications/declaring-project-metadata/'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Package metadata stored in the ``project`` table'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Data structure for the **project** table inside ``pyproject.toml``'</span><span class="s3">, </span><span class="s2">'(as initially defined in :pep:`621`)'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The name (primary identifier) of the project. MUST be statically defined.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'version'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'The version of the project as supported by :pep:`440`.'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep440'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The `summary description of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#summary&gt;`_'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Full/detailed description of the project in the form of a README'</span><span class="s3">, </span><span class="s2">'&lt;https://www.python.org/dev/peps/pep-0621/#readme&gt;`_'</span><span class="s3">, </span><span class="s2">&quot;with meaning similar to the one defined in `core metadata's Description&quot;</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#description&gt;`_'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file (UTF-8) containing the full description'</span><span class="s3">, </span><span class="s2">'of the project. If the file path ends in case-insensitive ``.md`` or'</span><span class="s3">, </span><span class="s2">'``.rst`` suffixes, then the content-type is respectively'</span><span class="s3">, </span><span class="s2">'``text/markdown`` or ``text/x-rst``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'allOf'</span><span class="s1">: [{</span><span class="s2">'anyOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to a text file containing the full description'</span><span class="s3">, </span><span class="s2">'of the project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Full text describing the project.'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'content-type'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Content-type (:rfc:`1341`) of the full description'</span><span class="s3">, </span><span class="s2">'(e.g. ``text/markdown``). The ``charset`` parameter is assumed'</span><span class="s3">, </span><span class="s2">'UTF-8 when not present.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'TODO: add regex pattern or format?'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'content-type'</span><span class="s1">]}]}]}</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-versionspec'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`The Python version requirements of the project'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#requires-python&gt;`_.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'license'</span><span class="s1">: {</span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`Project license &lt;https://www.python.org/dev/peps/pep-0621/#license&gt;`_.'</span><span class="s3">, </span><span class="s2">'oneOf'</span><span class="s1">: [{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'file'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Relative path to the file (UTF-8) which contains the license for the'</span><span class="s3">, </span><span class="s2">'project.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'file'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">{</span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'text'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'The license of the project whose meaning is that of the'</span><span class="s3">, </span><span class="s2">'`License field from the core metadata'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/core-metadata/#license&gt;`_.'</span><span class="s1">]}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'text'</span><span class="s1">]}]}</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'authors' of the project.&quot;</span><span class="s3">, </span><span class="s2">'The exact meaning is open to interpretation (e.g. original or primary authors,'</span><span class="s3">, </span><span class="s2">'current maintainers, or owners of the package).'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">&quot;The people or organizations considered to be the 'maintainers' of the project.&quot;</span><span class="s3">, </span><span class="s2">'Similarly to ``authors``, the exact meaning is open to interpretation.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'List of keywords to assist searching for the distribution in a larger catalog.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'trove-classifier'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'`PyPI classifier &lt;https://pypi.org/classifiers/&gt;`_.'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'`Trove classifiers &lt;https://pypi.org/classifiers/&gt;`_'</span><span class="s3">, </span><span class="s2">'which apply to the project.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'URLs associated with the project in the form ``label =&gt; value``.'</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'url'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s1">: {</span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Instruct the installer to expose the given modules/functions via'</span><span class="s3">, </span><span class="s2">'``entry-point`` discovery mechanism (useful for plugins).'</span><span class="s3">, </span><span class="s2">'More information available in the `Python packaging guide'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-group'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}}}</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project (mandatory) dependencies.'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Optional dependency for the project'</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508-identifier'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}}</span><span class="s3">, </span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'array'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Specifies which fields are intentionally unspecified and expected to be'</span><span class="s3">, </span><span class="s2">'dynamically provided by build tools'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'items'</span><span class="s1">: {</span><span class="s2">'enum'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s3">, </span><span class="s2">'readme'</span><span class="s3">, </span><span class="s2">'requires-python'</span><span class="s3">, </span><span class="s2">'license'</span><span class="s3">, </span><span class="s2">'authors'</span><span class="s3">, </span><span class="s2">'maintainers'</span><span class="s3">, </span><span class="s2">'keywords'</span><span class="s3">, </span><span class="s2">'classifiers'</span><span class="s3">, </span><span class="s2">'urls'</span><span class="s3">, </span><span class="s2">'scripts'</span><span class="s3">, </span><span class="s2">'gui-scripts'</span><span class="s3">, </span><span class="s2">'entry-points'</span><span class="s3">, </span><span class="s2">'dependencies'</span><span class="s3">, </span><span class="s2">'optional-dependencies'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'name'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'if'</span><span class="s1">: {</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'then'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'definitions'</span><span class="s1">: {</span><span class="s2">'author'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'entry-point-group'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s2">'dependency'</span><span class="s1">: {</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
    <span class="s3">try</span><span class="s1">:</span>
        <span class="s3">try</span><span class="s1">:</span>
            <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
            <span class="s3">if </span><span class="s1">data_is_dict:</span>
                <span class="s1">data_len = len(data)</span>
                <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'dynamic'</span><span class="s1">]):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must contain ['dynamic'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
                <span class="s1">data_keys = set(data.keys())</span>
                <span class="s3">if </span><span class="s2">&quot;dynamic&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
                    <span class="s1">data_keys.remove(</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">)</span>
                    <span class="s1">data__dynamic = data[</span><span class="s2">&quot;dynamic&quot;</span><span class="s1">]</span>
                    <span class="s1">data__dynamic_is_list = isinstance(data__dynamic</span><span class="s3">, </span><span class="s1">(list</span><span class="s3">, </span><span class="s1">tuple))</span>
                    <span class="s3">if </span><span class="s1">data__dynamic_is_list:</span>
                        <span class="s1">data__dynamic_contains = </span><span class="s3">False</span>
                        <span class="s3">for </span><span class="s1">data__dynamic_key </span><span class="s3">in </span><span class="s1">data__dynamic:</span>
                            <span class="s3">try</span><span class="s1">:</span>
                                <span class="s3">if </span><span class="s1">data__dynamic_key != </span><span class="s2">&quot;version&quot;</span><span class="s1">:</span>
                                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic must be same as const definition: version&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'const'</span><span class="s1">)</span>
                                <span class="s1">data__dynamic_contains = </span><span class="s3">True</span>
                                <span class="s3">break</span>
                            <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
                        <span class="s3">if not </span><span class="s1">data__dynamic_contains:</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic must contain one of contains definition&quot;</span><span class="s3">, </span><span class="s1">value=data__dynamic</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.dynamic&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'contains'</span><span class="s1">)</span>
        <span class="s3">except </span><span class="s1">JsonSchemaValueException: </span><span class="s3">pass</span>
        <span class="s3">else</span><span class="s1">:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must NOT match a disallowed definition&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'not'</span><span class="s1">: {</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'dynamic'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'dynamic'</span><span class="s1">: {</span><span class="s2">'contains'</span><span class="s1">: {</span><span class="s2">'const'</span><span class="s1">: </span><span class="s2">'version'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version is listed in ``dynamic``'</span><span class="s1">]}}}</span><span class="s3">, </span><span class="s2">'$$comment'</span><span class="s1">: [</span><span class="s2">'According to :pep:`621`:'</span><span class="s3">, </span><span class="s2">'    If the core metadata specification lists a field as &quot;Required&quot;, then'</span><span class="s3">, </span><span class="s2">'    the metadata MUST specify the field statically or list it in dynamic'</span><span class="s3">, </span><span class="s2">'In turn, `core metadata`_ defines:'</span><span class="s3">, </span><span class="s2">'    The required fields are: Metadata-Version, Name, Version.'</span><span class="s3">, </span><span class="s2">'    All the other fields are optional.'</span><span class="s3">, </span><span class="s2">'Since ``Metadata-Version`` is defined by the build back-end, ``name`` and'</span><span class="s3">, </span><span class="s2">'``version`` are the only mandatory information in ``pyproject.toml``.'</span><span class="s3">, </span><span class="s2">'.. _core metadata: https://packaging.python.org/specifications/core-metadata/'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'not'</span><span class="s1">)</span>
    <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
        <span class="s3">pass</span>
    <span class="s3">else</span><span class="s1">:</span>
        <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
        <span class="s3">if </span><span class="s1">data_is_dict:</span>
            <span class="s1">data_len = len(data)</span>
            <span class="s3">if not </span><span class="s1">all(prop </span><span class="s3">in </span><span class="s1">data </span><span class="s3">for </span><span class="s1">prop </span><span class="s3">in </span><span class="s1">[</span><span class="s2">'version'</span><span class="s1">]):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must contain ['version'] properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'required'</span><span class="s1">: [</span><span class="s2">'version'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'version should be statically defined in the ``version`` field'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'required'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_dependency(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(str)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s3">if </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">str):</span>
        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;pep508&quot;</span><span class="s1">](data):</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be pep508&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/dependency'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Dependency'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'Project dependency specification according to PEP 508'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'pep508'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_entry_point_group(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">for </span><span class="s1">data_key</span><span class="s3">, </span><span class="s1">data_val </span><span class="s3">in </span><span class="s1">data.items():</span>
            <span class="s3">if </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">'^.+$'</span><span class="s1">].search(data_key):</span>
                <span class="s3">if </span><span class="s1">data_key </span><span class="s3">in </span><span class="s1">data_keys:</span>
                    <span class="s1">data_keys.remove(data_key)</span>
                <span class="s3">if not </span><span class="s1">isinstance(data_val</span><span class="s3">, </span><span class="s1">(str)):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be string&quot;</span><span class="s3">, </span><span class="s1">value=data_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
                <span class="s3">if </span><span class="s1">isinstance(data_val</span><span class="s3">, </span><span class="s1">str):</span>
                    <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-entrypoint-reference&quot;</span><span class="s1">](data_val):</span>
                        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot; must be python-entrypoint-reference&quot;</span><span class="s3">, </span><span class="s1">value=data_val</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.{data_key}&quot;</span><span class="s1">.format(**locals()) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s1">data_keys:</span>
            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must not contain &quot;</span><span class="s1">+str(data_keys)+</span><span class="s2">&quot; properties&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'additionalProperties'</span><span class="s1">)</span>
        <span class="s1">data_len = len(data)</span>
        <span class="s3">if </span><span class="s1">data_len != </span><span class="s4">0</span><span class="s1">:</span>
            <span class="s1">data_property_names = </span><span class="s3">True</span>
            <span class="s3">for </span><span class="s1">data_key </span><span class="s3">in </span><span class="s1">data:</span>
                <span class="s3">try</span><span class="s1">:</span>
                    <span class="s3">if </span><span class="s1">isinstance(data_key</span><span class="s3">, </span><span class="s1">str):</span>
                        <span class="s3">if not </span><span class="s1">custom_formats[</span><span class="s2">&quot;python-entrypoint-name&quot;</span><span class="s1">](data_key):</span>
                            <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be python-entrypoint-name&quot;</span><span class="s3">, </span><span class="s1">value=data_key</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
                <span class="s3">except </span><span class="s1">JsonSchemaValueException:</span>
                    <span class="s1">data_property_names = </span><span class="s3">False</span>
            <span class="s3">if not </span><span class="s1">data_property_names:</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be named by propertyName definition&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/entry-point-group'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Entry-points'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Entry-points are grouped together to indicate what sort of capabilities they'</span><span class="s3">, </span><span class="s2">'provide.'</span><span class="s3">, </span><span class="s2">'See the `packaging guides'</span><span class="s3">, </span><span class="s2">'&lt;https://packaging.python.org/specifications/entry-points/&gt;`_'</span><span class="s3">, </span><span class="s2">'and `setuptools docs'</span><span class="s3">, </span><span class="s2">'&lt;https://setuptools.pypa.io/en/latest/userguide/entry_point.html&gt;`_'</span><span class="s3">, </span><span class="s2">'for more information.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'propertyNames'</span><span class="s1">: {</span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-name'</span><span class="s1">}</span><span class="s3">, </span><span class="s2">'additionalProperties'</span><span class="s1">: </span><span class="s3">False, </span><span class="s2">'patternProperties'</span><span class="s1">: {</span><span class="s2">'^.+$'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'Reference to a Python object. It is either in the form'</span><span class="s3">, </span><span class="s2">'``importable.module``, or ``importable.module:object.attr``.'</span><span class="s1">]</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'python-entrypoint-reference'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://packaging.python.org/specifications/entry-points/'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'propertyNames'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span>

<span class="s3">def </span><span class="s1">validate_https___packaging_python_org_en_latest_specifications_declaring_project_metadata___definitions_author(data</span><span class="s3">, </span><span class="s1">custom_formats={}</span><span class="s3">, </span><span class="s1">name_prefix=</span><span class="s3">None</span><span class="s1">):</span>
    <span class="s3">if not </span><span class="s1">isinstance(data</span><span class="s3">, </span><span class="s1">(dict)):</span>
        <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot; must be object&quot;</span><span class="s3">, </span><span class="s1">value=data</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'$id'</span><span class="s1">: </span><span class="s2">'#/definitions/author'</span><span class="s3">, </span><span class="s2">'title'</span><span class="s1">: </span><span class="s2">'Author or Maintainer'</span><span class="s3">, </span><span class="s2">'$comment'</span><span class="s1">: </span><span class="s2">'https://www.python.org/dev/peps/pep-0621/#authors-maintainers'</span><span class="s3">, </span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'object'</span><span class="s3">, </span><span class="s2">'properties'</span><span class="s1">: {</span><span class="s2">'name'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s2">'email'</span><span class="s1">: {</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}}}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
    <span class="s1">data_is_dict = isinstance(data</span><span class="s3">, </span><span class="s1">dict)</span>
    <span class="s3">if </span><span class="s1">data_is_dict:</span>
        <span class="s1">data_keys = set(data.keys())</span>
        <span class="s3">if </span><span class="s2">&quot;name&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;name&quot;</span><span class="s1">)</span>
            <span class="s1">data__name = data[</span><span class="s2">&quot;name&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__name</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__name</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.name&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'$$description'</span><span class="s1">: [</span><span class="s2">'MUST be a valid email name, i.e. whatever can be put as a name, before an'</span><span class="s3">, </span><span class="s2">'email, in :rfc:`822`.'</span><span class="s1">]}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
        <span class="s3">if </span><span class="s2">&quot;email&quot; </span><span class="s3">in </span><span class="s1">data_keys:</span>
            <span class="s1">data_keys.remove(</span><span class="s2">&quot;email&quot;</span><span class="s1">)</span>
            <span class="s1">data__email = data[</span><span class="s2">&quot;email&quot;</span><span class="s1">]</span>
            <span class="s3">if not </span><span class="s1">isinstance(data__email</span><span class="s3">, </span><span class="s1">(str)):</span>
                <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.email must be string&quot;</span><span class="s3">, </span><span class="s1">value=data__email</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.email&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'type'</span><span class="s1">)</span>
            <span class="s3">if </span><span class="s1">isinstance(data__email</span><span class="s3">, </span><span class="s1">str):</span>
                <span class="s3">if not </span><span class="s1">REGEX_PATTERNS[</span><span class="s2">&quot;idn-email_re_pattern&quot;</span><span class="s1">].match(data__email):</span>
                    <span class="s3">raise </span><span class="s1">JsonSchemaValueException(</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.email must be idn-email&quot;</span><span class="s3">, </span><span class="s1">value=data__email</span><span class="s3">, </span><span class="s1">name=</span><span class="s2">&quot;&quot; </span><span class="s1">+ (name_prefix </span><span class="s3">or </span><span class="s2">&quot;data&quot;</span><span class="s1">) + </span><span class="s2">&quot;.email&quot;</span><span class="s3">, </span><span class="s1">definition={</span><span class="s2">'type'</span><span class="s1">: </span><span class="s2">'string'</span><span class="s3">, </span><span class="s2">'format'</span><span class="s1">: </span><span class="s2">'idn-email'</span><span class="s3">, </span><span class="s2">'description'</span><span class="s1">: </span><span class="s2">'MUST be a valid email address'</span><span class="s1">}</span><span class="s3">, </span><span class="s1">rule=</span><span class="s2">'format'</span><span class="s1">)</span>
    <span class="s3">return </span><span class="s1">data</span></pre>
</body>
</html>